"use strict";(self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[]).push([[883],{444:function(e,t,o){var n=o(6252);const s=e=>{(0,n.bv)((()=>{let t=document.querySelector("head title");t||(t=document.createElement("title"),document.head.append(t)),t.innerText=e?e+" | Property Finder-UAE's number one":"Property Finder-UAE's number one"}))};t["Z"]=s},6883:function(e,t,o){o.r(t),o.d(t,{default:function(){return U}});var n=o(6252),s=o(9963),a=o(3577);const i={class:"center"},l=(0,n._)("h1",null,"Login",-1),r={class:"text_field"},u=(0,n._)("span",null,null,-1),d=(0,n._)("label",null,"E-mail",-1),c={class:"text_field"},p=(0,n._)("span",null,null,-1),g=(0,n._)("label",null,"Password",-1),m=(0,n._)("div",{class:"pass"},"Forgot password?",-1),h={key:0,class:"form-group text-center"},f=(0,n._)("div",{class:"pic23"},[(0,n.Uk)(" Don't have an account?"),(0,n._)("a",{href:"",style:{color:"rgb(34, 34, 255)"}},"Signup")],-1),w=(0,n.uE)('<p class="dell"><span style="background-color:rgb(240, 235, 235);">or</span></p><div class="uyt"><button><i class="fa fa-apple" style="font-size:20px;color:rgb(56, 56, 56);margin-right:20px;"></i> Login with Apple </button></div><div class="uyt"><button><i class="fa fa-google" style="font-size:20px;color:rgb(56, 56, 56);margin-right:20px;"></i> Login with Google </button></div>',3);function b(e,t,o,b,v,_){const y=(0,n.up)("router-link"),k=(0,n.up)("loading");return(0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n._)("div",i,[l,(0,n._)("form",{onSubmit:t[3]||(t[3]=(0,s.iM)(((...t)=>e.submit&&e.submit(...t)),["prevent"])),method:"post"},[(0,n._)("div",r,[(0,n.wy)((0,n._)("input",{type:"email",name:"email","onUpdate:modelValue":t[0]||(t[0]=e=>v.email=e),autocomplete:"off",required:""},null,512),[[s.nr,v.email]]),u,d]),(0,n._)("div",c,[(0,n.wy)((0,n._)("input",{type:"password","onUpdate:modelValue":t[1]||(t[1]=e=>v.password=e),required:""},null,512),[[s.nr,v.password]]),p,g]),m,v.errors.length?((0,n.wg)(),(0,n.iD)("div",h,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(v.errors,(e=>((0,n.wg)(),(0,n.iD)("p",{class:"badge badge-danger p-2 ms-3",key:e},(0,a.zw)(e),1)))),128))])):(0,n.kq)("",!0),(0,n._)("button",{type:"submit",onClick:t[2]||(t[2]=e=>_.login())},"Login"),(0,n.Wm)(y,{to:"/register"},{default:(0,n.w5)((()=>[f])),_:1}),w],32)]),(0,n.Wm)(k,{active:v.isLoading,"onUpdate:active":t[4]||(t[4]=e=>v.isLoading=e),"can-cancel":!0,"on-cancel":e.onCancel,"is-full-page":e.fullPage},null,8,["active","on-cancel","is-full-page"])],64)}o(7658);var v=o(8945),_=o(444),y=o(2369),k=o.n(y),L=o(3907),x={name:"LoginView",setup(){(0,_.Z)("Login")},data(){return{email:"",password:"",isLoading:!1,errors:[]}},components:{Loading:k()},mounted(){console.log("listing_id",this.$store.state.data.temp)},methods:{...(0,L.OI)(["updateData"]),async login(){this.isLoading=!0,console.log(this.email),console.log(this.password),v.Z.defaults.headers.common.Authorization="",this.$ls.remove("token"),this.$ls.remove("id");const e={email:this.email,password:this.password};await v.Z.post("http://18.177.139.152/loginapp/login/",e).then((e=>{console.log(e.data);const t=e.data.token.access,o=e.data.user_object[0].id;console.log(t),console.log(o),v.Z.defaults.headers.common.Authorization="Token "+t,localStorage.setItem("token",t),localStorage.setItem("user_id",o);const n=this.$route.query.to||"/";this.isLoading=!1;const s={isLogin:!0};this.updateData(s),this.$router.push(n)})).catch((e=>{e.response?(this.errors.push(e.response.data.message),this.isLoading=!1):(this.errors.push("Something went wrong. Please try again"),console.log(JSON.stringify(e)))}))}}},D=o(3744);const S=(0,D.Z)(x,[["render",b]]);var U=S}}]);
//# sourceMappingURL=883.35b2ec33.js.map