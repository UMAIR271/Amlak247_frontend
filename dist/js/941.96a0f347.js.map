{"version":3,"file":"js/941.96a0f347.js","mappings":"uMAEIA,EAAAA,EAAAA,GAAiC,UAA7B,4BAAwB,G,0CAD9BC,EAAAA,EAAAA,IAUM,YATJC,GACAF,EAAAA,EAAAA,GAA2C,SAAxC,qBAAiB,QAAGG,EAAAA,eAAa,IACpCH,EAAAA,EAAAA,GAA+C,SAA5C,uBAAmB,QAAGG,EAAAA,iBAAe,kBACxCF,EAAAA,EAAAA,IAGMG,EAAAA,GAAAA,MAAAA,EAAAA,EAAAA,IAHuCD,EAAAA,iBAAPE,K,WAAtCJ,EAAAA,EAAAA,IAGM,OAHDK,MAAM,oBAAoDC,IAAKF,I,QAC/DA,GAAM,IACT,M,gBAEFL,EAAAA,EAAAA,GAAqE,SAA9DQ,KAAK,O,qCAAgBL,EAAAA,QAAO,GAAEM,YAAY,mB,iBAArBN,EAAAA,YAC5BH,EAAAA,EAAAA,GAA2E,UAAlEU,QAAK,oBAAEC,EAAAA,aAAAA,EAAAA,eAAAA,KAAa,oBAAgB,QAAGR,EAAAA,iBAAe,I,0CAQnE,GACES,OACE,MAAO,CACLC,OAAQ,KACRC,cAAe,iBACfC,gBAAiB,KACjBC,QAAS,GACTC,MAAO,GACPC,gBAAiB,GAErB,EAEAC,UACEC,KAAKN,cAAgBO,aAAaC,QAAQ,WAC1CF,KAAKH,MAAQI,aAAaC,QAAQ,SAClC,MAAMT,EAASU,IAAAA,eAAwB,oCACvCV,EACGW,MAAM,CAAEP,MAAO,KAAMQ,IAAKL,KAAKN,gBAC/BY,MAAK,KACJC,QAAQC,IAAI,sCAAsC,IAEnDC,OAAOC,IACNH,QAAQC,IAAI,gCAAiCE,EAAM,IAEvDjB,EAAOkB,GAAG,mBAAmB,CAACf,EAASgB,KACrCL,QAAQC,IAAK,yBAAwBI,MAAWhB,EAAQiB,OAAO,IAEjEb,KAAKP,OAASA,CAChB,EAEAqB,QAAS,CACPC,cACE,MAAMnB,EAAU,CAAEiB,KAAMb,KAAKJ,SAC7BI,KAAKP,OACFuB,kBAAkBpB,EAASI,KAAKL,iBAChCW,MAAK,KACJC,QAAQC,IAAI,6BACZD,QAAQC,IAAIZ,EAAQiB,MACpBb,KAAKF,gBAAgBmB,KAAKrB,EAAQiB,MAClCb,KAAKkB,aAAatB,EAAQ,IAE3Ba,OAAOC,IACNH,QAAQC,IAAI,yBAA0BE,EAAM,GAElD,EAEAQ,aAAatB,GACX,MAAMuB,EAAS,CACbC,QAAS,CACPC,OAAQ,mBACR,eAAgB,sBAChBC,cAAe,UAAYtB,KAAKH,QAGpC0B,EAAAA,EAAAA,KAEI,gDACA,CACE3B,QAASA,EAAQiB,KACjBW,SAAUxB,KAAKL,gBACf8B,aAAc,QAEhBN,GAEDb,MAAK,KACJC,QAAQC,IAAI,sCAAsC,IAEnDC,OAAOC,IACNH,QAAQC,IAAI,mCAAoCE,EAAM,GAE5D,GAGFgB,gBACE1B,KAAKP,OACFkC,SACArB,MAAK,KACJC,QAAQC,IAAI,uCAAuC,IAEpDC,OAAOC,IACNH,QAAQC,IAAI,iCAAkCE,EAAM,IAGxDP,IAAAA,SACF,G,UCjGF,MAAMyB,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,KAEpE,O","sources":["webpack://frontend/./src/views/test1View.vue","webpack://frontend/./src/views/test1View.vue?efde"],"sourcesContent":["<template>\n  <div>\n    <h1>Agora RTM Vue.js Example</h1>\n    <p>Current user ID: {{ currentUserID }}</p>\n    <p>Recipient user ID: {{ recipientUserID }}</p>\n    <div class=\"msg_cotainer_send\" v-for=\"msg in sendMessageList\" :key=\"msg\">\n      {{ msg }}\n      <!-- <span class=\"msg_time_send\">8:55 AM, Today</span> -->\n    </div>\n    <input type=\"text\" v-model=\"message\" placeholder=\"Enter a message\" />\n    <button @click=\"sendMessage\">Send message to {{ recipientUserID }}</button>\n  </div>\n</template>\n\n<script>\nimport AgoraRTM from \"agora-rtm-sdk\";\nimport axios from \"axios\";\n\nexport default {\n  data() {\n    return {\n      client: null,\n      currentUserID: \"<YOUR_USER_ID>\",\n      recipientUserID: \"14\",\n      message: \"\",\n      token: \"\",\n      sendMessageList: [],\n    };\n  },\n\n  mounted() {\n    this.currentUserID = localStorage.getItem(\"user_id\");\n    this.token = localStorage.getItem(\"token\");\n    const client = AgoraRTM.createInstance(\"21c61a1aa5d44cc09fda7e95b43561a2\");\n    client\n      .login({ token: null, uid: this.currentUserID })\n      .then(() => {\n        console.log(\"Logged in to Agora RTM successfully\");\n      })\n      .catch((error) => {\n        console.log(\"Failed to log in to Agora RTM\", error);\n      });\n    client.on(\"MessageFromPeer\", (message, peerId) => {\n      console.log(`Received message from ${peerId}: ${message.text}`);\n    });\n    this.client = client;\n  },\n\n  methods: {\n    sendMessage() {\n      const message = { text: this.message };\n      this.client\n        .sendMessageToPeer(message, this.recipientUserID)\n        .then(() => {\n          console.log(\"Message sent successfully\");\n          console.log(message.text);\n          this.sendMessageList.push(message.text);\n          this.sendToServer(message);\n        })\n        .catch((error) => {\n          console.log(\"Failed to send message\", error);\n        });\n    },\n\n    sendToServer(message) {\n      const config = {\n        headers: {\n          Accept: \"application/json\",\n          \"Content-Type\": \"multipart/form-data\",\n          Authorization: \"Bearer \" + this.token,\n        },\n      };\n      axios\n        .post(\n          \"http://18.177.139.152/chat/api/send_messages/\",\n          {\n            message: message.text,\n            receiver: this.recipientUserID,\n            message_type: \"text\",\n          },\n          config\n        )\n        .then(() => {\n          console.log(\"Message sent to server successfully\");\n        })\n        .catch((error) => {\n          console.log(\"Failed to send message to server\", error);\n        });\n    },\n  },\n\n  beforeUnmount() {\n    this.client\n      .logout()\n      .then(() => {\n        console.log(\"Logged out of Agora RTM successfully\");\n      })\n      .catch((error) => {\n        console.log(\"Failed to log out of Agora RTM\", error);\n      });\n\n    AgoraRTM.destroy();\n  },\n};\n</script>\n","import { render } from \"./test1View.vue?vue&type=template&id=6e2f8290\"\nimport script from \"./test1View.vue?vue&type=script&lang=js\"\nexport * from \"./test1View.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/home/umair/Documents/Django/vue/Amlakapp/Amlakvue-app/property/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["_createElementVNode","_createElementBlock","_hoisted_1","$data","_Fragment","msg","class","key","type","placeholder","onClick","$options","data","client","currentUserID","recipientUserID","message","token","sendMessageList","mounted","this","localStorage","getItem","AgoraRTM","login","uid","then","console","log","catch","error","on","peerId","text","methods","sendMessage","sendMessageToPeer","push","sendToServer","config","headers","Accept","Authorization","axios","receiver","message_type","beforeUnmount","logout","__exports__","render"],"sourceRoot":""}