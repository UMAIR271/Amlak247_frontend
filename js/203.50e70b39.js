"use strict";(self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[]).push([[203],{6631:function(e,o,t){var n=t(9389);const s=e=>{(0,n.bv)((()=>{let o=document.querySelector("head title");o||(o=document.createElement("title"),document.head.append(o)),o.innerText=e?e+" | Property Finder-UAE's number one":"Property Finder-UAE's number one"}))};o["Z"]=s},7203:function(e,o,t){t.r(o),t.d(o,{default:function(){return U}});var n=t(9389),s=t(2989),a=t(849);const i={class:"center"},l=(0,n._)("h1",null,"Login",-1),r={class:"text_field"},u=(0,n._)("span",null,null,-1),c=(0,n._)("label",null,"E-mail",-1),d={class:"text_field"},p=(0,n._)("span",null,null,-1),g=(0,n._)("label",null,"Password",-1),m=(0,n._)("div",{class:"pass"},"Forgot password?",-1),h={key:0,class:"form-group text-center"},f=(0,n._)("div",{class:"pic23"},[(0,n.Uk)(" Don't have an account?"),(0,n._)("a",{href:"",style:{color:"rgb(34, 34, 255)"}},"Signup")],-1),w=(0,n.uE)('<p class="dell"><span style="background-color:rgb(240, 235, 235);">or</span></p><div class="uyt"><button><i class="fa fa-apple" style="font-size:20px;color:rgb(56, 56, 56);margin-right:20px;"></i> Login with Apple </button></div><div class="uyt"><button><i class="fa fa-google" style="font-size:20px;color:rgb(56, 56, 56);margin-right:20px;"></i> Login with Google </button></div>',3);function b(e,o,t,b,v,y){const _=(0,n.up)("router-link"),k=(0,n.up)("loading");return(0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n._)("div",i,[l,(0,n._)("form",{onSubmit:o[3]||(o[3]=(0,s.iM)(((...o)=>e.submit&&e.submit(...o)),["prevent"])),method:"post"},[(0,n._)("div",r,[(0,n.wy)((0,n._)("input",{type:"email",name:"email","onUpdate:modelValue":o[0]||(o[0]=e=>v.email=e),autocomplete:"off",required:""},null,512),[[s.nr,v.email]]),u,c]),(0,n._)("div",d,[(0,n.wy)((0,n._)("input",{type:"password","onUpdate:modelValue":o[1]||(o[1]=e=>v.password=e),required:""},null,512),[[s.nr,v.password]]),p,g]),m,v.errors.length?((0,n.wg)(),(0,n.iD)("div",h,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(v.errors,(e=>((0,n.wg)(),(0,n.iD)("p",{class:"badge badge-danger p-2 ms-3",key:e},(0,a.zw)(e),1)))),128))])):(0,n.kq)("",!0),(0,n._)("button",{type:"submit",onClick:o[2]||(o[2]=e=>y.login())},"Login"),(0,n.Wm)(_,{to:"/register"},{default:(0,n.w5)((()=>[f])),_:1}),w],32)]),(0,n.Wm)(k,{active:v.isLoading,"onUpdate:active":o[4]||(o[4]=e=>v.isLoading=e),"can-cancel":!0,"on-cancel":e.onCancel,"is-full-page":e.fullPage},null,8,["active","on-cancel","is-full-page"])],64)}t(2044);var v=t(3669),y=t(6631),_=t(4961),k=t.n(_),L=t(3600),x={name:"LoginView",setup(){(0,y.Z)("Login")},data(){return{email:"",password:"",isLoading:!1,errors:[]}},components:{Loading:k()},mounted(){console.log("listing_id",this.$store.state.data.temp)},methods:{...(0,L.OI)(["updateData"]),async login(){this.isLoading=!0,console.log(this.email),console.log(this.password),v.Z.defaults.headers.common.Authorization="",this.$ls.remove("token"),this.$ls.remove("id");const e={email:this.email,password:this.password};await v.Z.post("https://umair2701.pythonanywhere.com/loginapp/login/",e).then((e=>{console.log(e.data);const o=e.data.token.access,t=e.data.user_object[0].id;console.log(o),console.log(t),v.Z.defaults.headers.common.Authorization="Token "+o,localStorage.setItem("token",o),localStorage.setItem("user_id",t);const n=this.$route.query.to||"/";this.isLoading=!1;const s={isLogin:!0};this.updateData(s),this.$router.push(n)})).catch((e=>{e.response?(this.errors.push(e.response.data.message),this.isLoading=!1):(this.errors.push("Something went wrong. Please try again"),console.log(JSON.stringify(e)))}))}}},D=t(1935);const S=(0,D.Z)(x,[["render",b]]);var U=S}}]);
//# sourceMappingURL=203.50e70b39.js.map