{"version":3,"file":"js/289.d99346a7.js","mappings":"sMAEIA,EAAAA,EAAAA,GAAiC,UAA7B,4BAAwB,G,0CAD9BC,EAAAA,EAAAA,IAUM,YATJC,GACAF,EAAAA,EAAAA,GAA2C,SAAxC,qBAAiBG,EAAAA,EAAAA,IAAGC,EAAAA,eAAa,IACpCJ,EAAAA,EAAAA,GAA+C,SAA5C,uBAAmBG,EAAAA,EAAAA,IAAGC,EAAAA,iBAAe,KAOpC,aANJH,EAAAA,EAAAA,IAGMI,EAAAA,GAAA,MAAAC,EAAAA,EAAAA,IAHuCF,EAAAA,iBAAPG,K,WAAtCN,EAAAA,EAAAA,IAGM,OAHDO,MAAM,oBAAoDC,IAAKF,IAApE,QACKA,GAAG,MADR,OAMI,SAFJP,EAAAA,EAAAA,GAAqE,SAA9DU,KAAK,O,qCAAgBN,EAAAA,QAAOO,GAAEC,YAAY,mBAAjD,iBAA4BR,EAAAA,YAC5BJ,EAAAA,EAAAA,GAA2E,UAAlEa,QAAK,oBAAEC,EAAAA,aAAAA,EAAAA,eAAAA,KAAa,oBAAgBX,EAAAA,EAAAA,IAAGC,EAAAA,iBAAe,I,0CAQnE,GACEW,OACE,MAAO,CACLC,OAAQ,KACRC,cAAe,iBACfC,gBAAiB,KACjBC,QAAS,GACTC,MAAO,GACPC,gBAAiB,GAEpB,EAEDC,UACEC,KAAKN,cAAgBO,aAAaC,QAAQ,WAC1CF,KAAKH,MAAQI,aAAaC,QAAQ,SAClC,MAAMT,EAASU,IAAAA,eAAwB,oCACvCV,EACGW,MAAM,CAAEP,MAAO,KAAMQ,IAAKL,KAAKN,gBAC/BY,MAAK,KACJC,QAAQC,IAAI,sCAAZ,IAEDC,OAAOC,IACNH,QAAQC,IAAI,gCAAiCE,EAA7C,IAEJjB,EAAOkB,GAAG,mBAAmB,CAACf,EAASgB,KACrCL,QAAQC,IAAK,yBAAwBI,MAAWhB,EAAQiB,OAAxD,IAEFb,KAAKP,OAASA,CACf,EAEDqB,QAAS,CACPC,cACE,MAAMnB,EAAU,CAAEiB,KAAMb,KAAKJ,SAC7BI,KAAKP,OACFuB,kBAAkBpB,EAASI,KAAKL,iBAChCW,MAAK,KACJC,QAAQC,IAAI,6BACZD,QAAQC,IAAIZ,EAAQiB,MACpBb,KAAKF,gBAAgBmB,KAAKrB,EAAQiB,MAClCb,KAAKkB,aAAatB,EAAlB,IAEDa,OAAOC,IACNH,QAAQC,IAAI,yBAA0BE,EAAtC,GAEL,EAEDQ,aAAatB,GACX,MAAMuB,EAAS,CACbC,QAAS,CACPC,OAAQ,mBACR,eAAgB,sBAChBC,cAAe,UAAYtB,KAAKH,QAGpC0B,EAAAA,EAAAA,KAEI,+DACA,CACE3B,QAASA,EAAQiB,KACjBW,SAAUxB,KAAKL,gBACf8B,aAAc,QAEhBN,GAEDb,MAAK,KACJC,QAAQC,IAAI,sCAAZ,IAEDC,OAAOC,IACNH,QAAQC,IAAI,mCAAoCE,EAAhD,GAEL,GAGHgB,gBACE1B,KAAKP,OACFkC,SACArB,MAAK,KACJC,QAAQC,IAAI,uCAAZ,IAEDC,OAAOC,IACNH,QAAQC,IAAI,iCAAkCE,EAA9C,IAGJP,IAAAA,SACD,G,UCjGH,MAAMyB,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,KAEpE,O","sources":["webpack://frontend/./src/views/test1View.vue","webpack://frontend/./src/views/test1View.vue?5c58"],"sourcesContent":["<template>\n  <div>\n    <h1>Agora RTM Vue.js Example</h1>\n    <p>Current user ID: {{ currentUserID }}</p>\n    <p>Recipient user ID: {{ recipientUserID }}</p>\n    <div class=\"msg_cotainer_send\" v-for=\"msg in sendMessageList\" :key=\"msg\">\n      {{ msg }}\n      <!-- <span class=\"msg_time_send\">8:55 AM, Today</span> -->\n    </div>\n    <input type=\"text\" v-model=\"message\" placeholder=\"Enter a message\" />\n    <button @click=\"sendMessage\">Send message to {{ recipientUserID }}</button>\n  </div>\n</template>\n\n<script>\nimport AgoraRTM from \"agora-rtm-sdk\";\nimport axios from \"axios\";\n\nexport default {\n  data() {\n    return {\n      client: null,\n      currentUserID: \"<YOUR_USER_ID>\",\n      recipientUserID: \"14\",\n      message: \"\",\n      token: \"\",\n      sendMessageList: [],\n    };\n  },\n\n  mounted() {\n    this.currentUserID = localStorage.getItem(\"user_id\");\n    this.token = localStorage.getItem(\"token\");\n    const client = AgoraRTM.createInstance(\"21c61a1aa5d44cc09fda7e95b43561a2\");\n    client\n      .login({ token: null, uid: this.currentUserID })\n      .then(() => {\n        console.log(\"Logged in to Agora RTM successfully\");\n      })\n      .catch((error) => {\n        console.log(\"Failed to log in to Agora RTM\", error);\n      });\n    client.on(\"MessageFromPeer\", (message, peerId) => {\n      console.log(`Received message from ${peerId}: ${message.text}`);\n    });\n    this.client = client;\n  },\n\n  methods: {\n    sendMessage() {\n      const message = { text: this.message };\n      this.client\n        .sendMessageToPeer(message, this.recipientUserID)\n        .then(() => {\n          console.log(\"Message sent successfully\");\n          console.log(message.text);\n          this.sendMessageList.push(message.text);\n          this.sendToServer(message);\n        })\n        .catch((error) => {\n          console.log(\"Failed to send message\", error);\n        });\n    },\n\n    sendToServer(message) {\n      const config = {\n        headers: {\n          Accept: \"application/json\",\n          \"Content-Type\": \"multipart/form-data\",\n          Authorization: \"Bearer \" + this.token,\n        },\n      };\n      axios\n        .post(\n          \"https://umair2701.pythonanywhere.com/chat/api/send_messages/\",\n          {\n            message: message.text,\n            receiver: this.recipientUserID,\n            message_type: \"text\",\n          },\n          config\n        )\n        .then(() => {\n          console.log(\"Message sent to server successfully\");\n        })\n        .catch((error) => {\n          console.log(\"Failed to send message to server\", error);\n        });\n    },\n  },\n\n  beforeUnmount() {\n    this.client\n      .logout()\n      .then(() => {\n        console.log(\"Logged out of Agora RTM successfully\");\n      })\n      .catch((error) => {\n        console.log(\"Failed to log out of Agora RTM\", error);\n      });\n\n    AgoraRTM.destroy();\n  },\n};\n</script>\n","import { render } from \"./test1View.vue?vue&type=template&id=54160a94\"\nimport script from \"./test1View.vue?vue&type=script&lang=js\"\nexport * from \"./test1View.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/home/umair/Documents/Django/vue/Amlakapp/Amlakvue-app/property/node_modules/.pnpm/vue-loader@17.0.0_webpack@5.74.0/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["_createElementVNode","_createElementBlock","_hoisted_1","_toDisplayString","$data","_Fragment","_renderList","msg","class","key","type","$event","placeholder","onClick","$options","data","client","currentUserID","recipientUserID","message","token","sendMessageList","mounted","this","localStorage","getItem","AgoraRTM","login","uid","then","console","log","catch","error","on","peerId","text","methods","sendMessage","sendMessageToPeer","push","sendToServer","config","headers","Accept","Authorization","axios","receiver","message_type","beforeUnmount","logout","__exports__","render"],"sourceRoot":""}