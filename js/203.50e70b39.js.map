{"version":3,"file":"js/203.50e70b39.js","mappings":"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","sources":["webpack://frontend/./src/composables/useSetTitle.js","webpack://frontend/./src/views/LoginView.vue","webpack://frontend/./src/views/LoginView.vue?aac3"],"sourcesContent":["import { onMounted } from \"vue\";\n\nconst useSetTitle = (content) => {\n  onMounted(() => {\n    let tag = document.querySelector(`head title`);\n    // check if script already exists\n    if (!tag){\n      tag = document.createElement(\"title\");\n      document.head.append(tag)\n    }\n\n    if (content){\n      tag.innerText = content + \" | Property Finder-UAE's number one\"\n    }\n    else{\n      tag.innerText = \"Property Finder-UAE's number one\"\n    }\n  });\n};\n\nexport default useSetTitle;","<template>\n  <div class=\"center\">\n    <h1>Login</h1>\n    <form @submit.prevent=\"submit\" method=\"post\">\n      <div class=\"text_field\">\n        <input\n          type=\"email\"\n          name=\"email\"\n          v-model=\"email\"\n          autocomplete=\"off\"\n          required\n        />\n        <span></span>\n        <label>E-mail</label>\n      </div>\n      <div class=\"text_field\">\n        <input type=\"password\" v-model=\"password\" required />\n        <span></span>\n        <label>Password</label>\n      </div>\n      <div class=\"pass\">Forgot password?</div>\n      <div class=\"form-group text-center\" v-if=\"errors.length\">\n        <p\n          class=\"badge badge-danger p-2 ms-3\"\n          v-for=\"error in errors\"\n          v-bind:key=\"error\"\n        >\n          {{ error }}\n        </p>\n      </div>\n      <button type=\"submit\" @click=\"login()\">Login</button>\n\n      <router-link to=\"/register\">\n        <div class=\"pic23\">\n          Don't have an account?<a href=\"\" style=\"color: rgb(34, 34, 255)\"\n            >Signup</a\n          >\n        </div>\n      </router-link>\n\n      <p class=\"dell\">\n        <span style=\"background-color: rgb(240, 235, 235)\">or</span>\n      </p>\n      <div class=\"uyt\">\n        <button>\n          <i\n            class=\"fa fa-apple\"\n            style=\"font-size: 20px; color: rgb(56, 56, 56); margin-right: 20px\"\n          ></i>\n          Login with Apple\n        </button>\n      </div>\n      <div class=\"uyt\">\n        <button>\n          <i\n            class=\"fa fa-google\"\n            style=\"font-size: 20px; color: rgb(56, 56, 56); margin-right: 20px\"\n          ></i>\n          Login with Google\n        </button>\n      </div>\n    </form>\n  </div>\n  <loading\n    v-model:active=\"isLoading\"\n    :can-cancel=\"true\"\n    :on-cancel=\"onCancel\"\n    :is-full-page=\"fullPage\"\n  />\n</template>\n\n<script>\nimport axios from \"axios\";\nimport { useSetTitle } from \"@/composables\";\nimport Loading from \"vue-loading-overlay\";\nimport \"vue-loading-overlay/dist/css/index.css\";\n// import topheaders from \"../components/HeaderComp.vue\";\n// import endfooter from \"../components/FooterComp.vue\";\nimport { mapMutations } from \"vuex\";\n\nexport default {\n  name: \"LoginView\",\n  setup() {\n    useSetTitle(\"Login\");\n  },\n  data() {\n    return {\n      email: \"\",\n      password: \"\",\n      isLoading: false,\n      errors: [],\n    };\n  },\n  components: {\n    Loading,\n    // endfooter,\n  },\n  mounted() {\n    console.log(\"listing_id\", this.$store.state.data.temp);\n  },\n  methods: {\n    ...mapMutations([\"updateData\"]),\n    async login() {\n      this.isLoading = true;\n      console.log(this.email);\n      console.log(this.password);\n      axios.defaults.headers.common[\"Authorization\"] = \"\";\n      // localStorage.removeItem(\"token\");\n      // localStorage.removeItem(\"id\");\n      this.$ls.remove(\"token\");\n      this.$ls.remove(\"id\");\n      const formData = {\n        email: this.email,\n        password: this.password,\n      };\n      await axios\n        .post(\"https://umair2701.pythonanywhere.com/loginapp/login/\", formData)\n        .then((response) => {\n          console.log(response.data);\n          const token = response.data.token.access;\n          const user_id = response.data.user_object[0].id;\n          console.log(token);\n          console.log(user_id);\n          // this.$store.commit(\"setToken\", token);\n          // this.$store.commit(\"setUserId\", user_id);\n          axios.defaults.headers.common[\"Authorization\"] = \"Token \" + token;\n          // this.$ls.set(\"token\", token);\n          // this.$ls.set(\"id\", user_id);\n          localStorage.setItem(\"token\", token);\n          localStorage.setItem(\"user_id\", user_id);\n          const toPath = this.$route.query.to || \"/\";\n          this.isLoading = false;\n          const data = {};\n          data.isLogin = true;\n          this.updateData(data);\n          this.$router.push(toPath);\n        })\n        .catch((error) => {\n          if (error.response) {\n            this.errors.push(error.response.data.message);\n            this.isLoading = false;\n          } else {\n            this.errors.push(\"Something went wrong. Please try again\");\n            console.log(JSON.stringify(error));\n          }\n        });\n    },\n  },\n};\n</script>\n\n<style>\n@import \"@/assets/dashboard/vendor/bootstrap/css/bootstrap.min.css\";\n@import \"@/assets/dashboard/vendor/fonts/circular-std/style.css\";\n/* @import \"@/assets/dashboard/libs/css/style.css\"; */\n@import \"@/assets/dashboard/vendor/fonts/fontawesome/css/fontawesome-all.css\";\n@import \"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css\";\n@import \"https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css\";\n/* @import \"https://unpkg.com/flickity@2/dist/flickity.min.css\"; */\n/* @import \"https://cdn.jsdelivr.net/npm/slick-carousel@1.8.1/slick/slick.css\"; */\n@import \"@/assets/css/style.css\";\n\n.splash-container {\n  position: absolute;\n  left: 50%;\n  top: 50%;\n  transform: translate(-50%, -50%);\n}\n.center {\n  border: 1px solid gray;\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  width: 600px;\n  height: 700px;\n  transform: translate(-50%, -50%);\n  background-color: rgb(240, 235, 235);\n  border-radius: 10px;\n}\n.center h1 {\n  text-align: center;\n  padding-top: 30px;\n  /* padding:0 0 20px 0; */\n}\n.center form {\n  padding: 0 40px;\n  box-sizing: border-box;\n}\n.text_field {\n  position: relative;\n  margin: 30px 0;\n  border-bottom: 2px solid #adadad;\n}\n.text_field input {\n  width: 100%;\n  padding: 0 5px;\n  height: 40px;\n  font-size: 16px;\n  border: none;\n  background: none;\n  outline: none;\n}\n.text_field label {\n  position: absolute;\n  top: 70%;\n  left: 5px;\n  color: #7c7c7c;\n  transform: translateY(-50%);\n  font-size: 16px;\n  pointer-events: none;\n  transition: 0.5s;\n}\n.text_field span::before {\n  content: \"\";\n  position: absolute;\n  top: 40px;\n  left: 0;\n  /* width:100%; */\n  height: 2px;\n  background: #2691d9;\n  transition: 0.5s;\n}\n.text_field input:focus ~ label,\n.text_field input:valid ~ label {\n  top: -5px;\n  color: #adadad;\n}\n.text_field input:focus ~ span::before,\n.text_field input:valid ~ span::before {\n  width: 100%;\n}\n.pass {\n  margin: -5px 0 20px 5px;\n  color: rgb(34, 34, 255);\n  cursor: pointer;\n  text-align: center;\n  text-decoration: underline;\n}\n.pass:hover {\n  text-decoration: underline;\n}\nbutton[type=\"submit\"] {\n  width: 100%;\n  height: 40px;\n  border: 1px solid;\n  background: #2691d9;\n  border-radius: 20px;\n  font-size: 18px;\n  color: white;\n  font-weight: 700;\n  cursor: pointer;\n  outline: none;\n}\n.pic23 {\n  margin: 20px;\n  text-align: center;\n}\n.dell {\n  width: 100%;\n  text-align: center;\n  border-bottom: 1px solid #000;\n  line-height: 0.1em;\n  margin: 10px 0 20px;\n}\n.dell span {\n  background: #fff;\n  padding: 0 10px;\n}\n.uyt button {\n  width: 100%;\n  background: #f0efef;\n  height: 40px;\n  border: 1px solid rgb(46, 46, 46);\n  /* border-radius: 10px; */\n  font-size: 18px;\n  color: rgb(56, 56, 56);\n  font-weight: 700;\n  cursor: pointer;\n  outline: none;\n  margin-top: 20px;\n  align-items: center;\n}\n@media only screen and (max-width: 700px) {\n  .center {\n    width: 90%;\n  }\n}\n</style>\n","import { render } from \"./LoginView.vue?vue&type=template&id=6f149d8c\"\nimport script from \"./LoginView.vue?vue&type=script&lang=js\"\nexport * from \"./LoginView.vue?vue&type=script&lang=js\"\n\nimport \"./LoginView.vue?vue&type=style&index=0&id=6f149d8c&lang=css\"\n\nimport exportComponent from \"/home/umair/Documents/Django/vue/Amlakapp/Amlakvue-app/property/node_modules/.pnpm/vue-loader@17.0.0_webpack@5.74.0/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["useSetTitle","content","onMounted","tag","document","querySelector","createElement","head","append","innerText","class","_createElementVNode","href","style","_hoisted_2","onSubmit","_ctx","method","type","name","$data","$event","autocomplete","required","_hoisted_4","_hoisted_5","_hoisted_7","_hoisted_8","_hoisted_9","length","_createElementBlock","_Fragment","_renderList","error","key","onClick","$options","_createVNode","_component_router_link","to","_hoisted_11","_hoisted_12","_component_loading","active","setup","data","email","password","isLoading","errors","components","Loading","mounted","console","log","this","$store","state","temp","methods","mapMutations","async","axios","$ls","remove","formData","then","response","token","access","user_id","user_object","id","localStorage","setItem","toPath","$route","query","updateData","$router","push","catch","message","JSON","stringify","__exports__","render"],"sourceRoot":""}